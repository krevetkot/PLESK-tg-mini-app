<div class="item-container">
  <!-- Карусель изображений -->
  <div class="carousel-container"
       (touchstart)="onTouchStart($event)"
       (touchmove)="onTouchMove($event)"
       (touchend)="onTouchEnd($event)">

    <div class="carousel-slide">
      <img
        [src]="currentImage"
        alt="Нет фото"
        loading="lazy"
        class="carousel-image"
      >
    </div>

    @if (productImages.length > 1) {
    <button class="carousel-btn prev" (click)="prevImage()">‹</button>
    <button class="carousel-btn next" (click)="nextImage()">›</button>

    <div class="carousel-indicators">
        @for (img of productImages; track $index; let i = $index) {
    <button
      class="indicator"
      [class.active]="currentImageIndex === i"
      (click)="goToImage(i)"
    ></button>
    }
    </div>
    }
  </div>


  <div class="product-info">
    <h2 class="product-name">{{ product?.name }}</h2>
    <div class="product-price">
      {{ product?.price }} ₽
    </div>
    <p class="product-description">{{product?.description}}</p>

    <div class="add-btns-container">
      @if (addedQuantity === 0) {
      <button class="add-to-cart-1-item-btn" (click)="addToCart(1)">
      Добавить 1 шт.
      </button>
      } @else {
      <div class="quantity-controls">
        <button class="quantity-btn minus" (click)="decreaseQuantity()">
          −
        </button>
        <span class="quantity-display">{{ addedQuantity }} шт.</span>
          <button class="quantity-btn plus" (click)="increaseQuantity()">
            +
          </button>
        </div>
      }

    </div>
  </div>
</div>
