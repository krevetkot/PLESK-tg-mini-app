<div class="cart-container">
  <!-- –ü—É—Å—Ç–∞—è –∫–æ—Ä–∑–∏–Ω–∞ -->
  @if (isEmpty) {
  <div class="empty-cart">
    <div class="cart-icon">üõí</div>
    <h2>–ö–æ—Ä–∑–∏–Ω–∞ –ø—É—Å—Ç–∞</h2>
    <p>–î–æ–±–∞–≤—å—Ç–µ —Ç–æ–≤–∞—Ä—ã –¥–ª—è –æ—Ñ–æ—Ä–º–ª–µ–Ω–∏—è –∑–∞–∫–∞–∑–∞</p>
    <button class="continue-shopping-btn" (click)="continueShopping()">
      –í–µ—Ä–Ω—É—Ç—å—Å—è –∫ –ø–æ–∫—É–ø–∫–∞–º
    </button>
  </div>
  }

  <!-- –ö–æ—Ä–∑–∏–Ω–∞ —Å —Ç–æ–≤–∞—Ä–∞–º–∏ -->
  @if (!isEmpty) {
  <div class="cart-content">
    <h1 class="cart-title">–ö–æ—Ä–∑–∏–Ω–∞</h1>

    <div class="cart-items">
      @for (item of orderItems; track item.product.GUID) {
  <div class="cart-item">
    <div class="item-image">
      <img [src]="item.product.imageUrl" [alt]="item.product.name" loading="lazy">
    </div>

    <div class="item-details">
      <h3 class="item-name">{{ item.product.name }}</h3>
      <p class="item-price">{{ item.product.price }} ‚ÇΩ/—à—Ç</p>
    </div>

    <div class="quantity-controls">
      <button
        class="quantity-btn minus"
        (click)="decreaseQuantity(item)"
        [disabled]="item.count <= 1"
      >
        ‚àí
      </button>

      <input
        type="number"
        [value]="item.count"
        (change)="updateQuantity(item, $event)"
        min="1"
        class="quantity-input"
      >

      <button
        class="quantity-btn plus"
        (click)="increaseQuantity(item)"
      >
        +
      </button>
    </div>

    <div class="item-total">
      <span class="total-price">{{ (item.product.price * item.count) }} ‚ÇΩ</span>
    </div>

    <button class="remove-btn" (click)="removeItem(item.product.GUID)">
      √ó
    </button>
  </div>
  }
  </div>

  <!-- –ë–ª–æ–∫ –æ—Ñ–æ—Ä–º–ª–µ–Ω–∏—è –∑–∞–∫–∞–∑–∞ -->
  <div class="checkout-section">
    <div class="shipping-date">
      <label for="shippingDate">–î–∞—Ç–∞ –æ—Ç–≥—Ä—É–∑–∫–∏:</label>
      <input
        type="date"
        id="shippingDate"
        [(ngModel)]="shippingDate"
        [min]="getShippingMinDate()"
        [max]="getShippingMaxDate()"
        class="date-input"
      >
    </div>

      <!-- –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π –∫ –∑–∞–∫–∞–∑—É -->
    <div class="order-comment">
      <label for="orderComment">–ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π –∫ –∑–∞–∫–∞–∑—É: </label>
      <textarea
        id="orderComment"
        [(ngModel)]="orderComment"
        class="comment-textarea"
        rows="4"
      ></textarea>
    </div>

    <div class="order-summary">
      <div class="total-line">
        <span>–ò—Ç–æ–≥–æ:</span>
        <span class="total-amount"> {{ totalAmount }} ‚ÇΩ</span>
          </div>

          <button class="checkout-btn" (click)="checkout()">
            –û—Ñ–æ—Ä–º–∏—Ç—å –∑–∞–∫–∞–∑
          </button>
        </div>
      </div>
    </div>
  }
</div>
